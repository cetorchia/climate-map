<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta http-equiv="ScreenOrientation" content="autoRotate:disabled">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Climate map showing past and future temperature and precipitation">

        <script type="text/javascript" src="/climate-map.bundle.js?hash=d5d0cb248ad869f1f994"></script>

        <title>Climate Map</title>
    </head>
    <body>
        <div id="climate-map"></div>
        <div id="filter-button" class="hamburger map-button">
            <div class="hamburger-bar1"></div>
            <div class="hamburger-bar2"></div>
            <div class="hamburger-bar3"></div>
        </div>
        <div id="search-expand-button" class="map-button">&#128270;</div>
        <div id="temperature-button" class="map-button">&#127777;</div>
        <div id="precipitation-button" class="map-button">&#127783;</div>
        <div id="potet-button" class="map-button">&#127793;</div>
        <div id="ssp-button" class="map-button" style="display: none;">
            <img id="ssp-img" src="/ssp2.png"></img>
        </div>
        <div id="units-button" class="map-button">&#176;C</div>
        <div id="about-button" class="map-button"><span id="about-question-mark">?</span></div>

        <div id="date-range-slider-container">
            <div id="date-range-slider-tooltip" class="tooltip" style="display: none;"></div>
            <input id="date-range-slider" type="range" min="0" max="0" value="0" list="date-range-list" class="slider">
        </div>

        <div id="description-tooltip" class="tooltip"></div>

        <div id="search-container" class="map-window" style="display:none">
            <input id="search" type="text" placeholder="Search">
            <button id="search-button">&#128270; Search</button>
            <br>Source: <a href="https://www.geonames.org/">GeoNames</a>
        </div>

        <div id="filter-container" class="map-window" style="display:none">
            <div id="date-range-filter">
                Date range:
                <select id="date-range">
                    <option value="">--</option>
                </select>
            </div>
            <div id="data-source-filter">
                Data source:
                <select id="data-source">
                    <option value="">--</option>
                </select>
            </div>
            <div id="measurement-filter">
                Measurement:
                <select id="measurement">
                    <option value="tavg">Temperature (&#176;C)</option>
                    <option value="precip">Precipitation (mm)</option>
                    <option value="potet">Potential Evapotranspiration (mm)</option>
                </select>
            </div>
            <div id="period-filter">
                Period:
                <select id="period">
                    <option value="year">Year-round</option>
                    <option value="12_01_02">December, January, and February</option>
                    <option value="03_04_05">March, April, and May</option>
                    <option value="06_07_08">June, July, and August</option>
                    <option value="09_10_11">September, October, and November</option>
                </select>
            </div>
        </div>

        <div id="about" class="map-window" style="display:none">
            <div id="close-about" class="container-close container-close-large">X</div>
            <h3>About Climate Map</h3>
            <p>
                This map shows <a href="https://en.wikipedia.org/wiki/Climate">climate normals</a>,
                such as temperature and precipitation amounts, as colours on the map.
                Click anywhere on the map to see charts on local climate data for that location.
                Drag the slider at the bottom to see projections on
                the future climate. You can change the data source and period in
                the hamburger menu on the left. It is recommended you look at multiple
                climate models to take into account all possible scenarios.
                Citations and links to the original data are shown at the bottom of the screen.
            </p>
            <p>
                Climate is not weather. If the weather is like a person's current mood,
                then the climate is like their personality. This map does NOT show
                the current weather.
            </p>
            <h3>Caveats</h3>
            <p>
                This app is meant as a tool to help you visualize and guide
                your future research on your climate and its changes, empowering you
                to adapt to the changing environment.
                The author of this app takes NO responsibility for damages or injuries
                caused by trusting the information presented in the app.
                Errors are absolutely possible and inevitable.
                CONFIRM all climate data with government agencies, model sources, and
                residents of the area.
            </p>
            <p>
                Historical data presented here are interpolated from station data.
                Since weather stations are not placed on every inch of the planet,
                these data are approximations and must be taken with a grain of salt.
                Weather stations that do exist may have been omitted and the
                amounts will be interpolations and not observations.
            </p>
            <p>
                Projections from the models are calibrated against the historical data
                in order to compare apples to apples. The forecasted normals
                show the projected changes rather than what the models think the
                climate normals are going to be. In either case a grain of salt must be
                taken with this information.
                See <a href="https://worldclim.org/data/downscaling.html">WorldClim's downscaling algorithm</a>
                for the ideas behind the calibration process.
            </p>
            <p>
                The projections assume different economic scenarios. It's anyone's guess
                what will actually happen.
                Due to limited capacity, not all climate models are included in the app.
            </p>
            <h3>Support & feedback</h3>
            <p>
                Feedback is very welcome. If you have any questions or comments,
                please contact <span id="support-contact"></span>.
            </p>
            <h3>Copyright</h3>
            <p>
                This software, processed climate data, and climate map tiles,
                are copyright &copy; Carlos Emilio Torchia.
                All rights are reserved.
                NO part of this software may be taken or exploited for private interests.
                NO warranty is provided.
            </p>
            <p>
                Non-commercial use is OK but attribution must be given.
            </p>
            <h3>Acknowledgements</h3>
            <p>
                Immense gratitude goes to the researchers who created the climate
                models, including the <a href="https://pcmdi.llnl.gov/CMIP6/">CMIP6</a>
                models and <a href="http://www.climatologylab.org/terraclimate.html">TerraClimate</a> data.
                Thanks also go to <a href="https://worldclim.org/">WorldClim</a>
                for initiating the existence of high resolution datasets.
            </p>
            <p>
                Many thanks go to the people who answered
                <a href="https://www.quora.com/Which-high-resolution-CMIP6-climate-model-should-I-use-for-a-data-visualization-app-for-the-general-public">this question</a>.
            </p>
            <p>
                Thanks go to friends and family, especially Mami, who provided
                support and suggestions.
            </p>
        </div>

        <div id="legend">
            <img id="legend-img" src="/legend-temp-metric.png">
        </div>

        <div id="location-climate" class="map-window" style="display:none">
            <div id="close-location-climate" class="container-close container-close-large">X</div>
            <span id="location-title" style="display:none"></span>
            <p>
                Elevation: <span id="elevation"></span>
            </p>
            <p>
                Average Annual Temperature: <span id="average-temperature"></span>
            </p>
            <p>
                Total Annual Precipitation: <span id="total-precipitation"></span>
            </p>
            <p>
                Total Potential Evapotranspiration: <span id="total-potet"></span>
            </p>
            <canvas id="location-temperature-chart" width="400" height="300"></canvas>
            <canvas id="location-precipitation-chart" width="400" height="300"></canvas>
            <canvas id="location-potet-chart" width="400" height="300"></canvas>
            <p>
                <i>Source</i>: <span id="chart-source"></span>
            </p>
        </div>
    </body>
</html>
